<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ELDOA Encyclopedia — Complete A-Z Reference Guide</title>
  <meta name="description" content="Comprehensive ELDOA encyclopedia with 1127 entries covering all aspects of ELDOA practice, theory, and terminology."/>
  <link rel="canonical" href="https://eldoa.ai/encyclopedia.html"/>

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

  <style>
    [data-theme="light"] {
      --bg: #ffffff;
      --fg: #0d0f13;
      --muted: #475569;
      --brand: #2f2fe6;
      --brand-2: #0891b2;
      --card: #f8fafc;
      --border: #e2e8f0;
    }
    [data-theme="dark"] {
      --bg: #0b0d12;
      --fg: #eef2ff;
      --muted: #c7d2fe;
      --brand: #8b5cf6;
      --brand-2: #22d3ee;
      --card: #111827;
      --border: #262b36;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: var(--bg);
      color: var(--fg);
      line-height: 1.6;
    }
    .container { width: min(1200px, 94vw); margin: 0 auto; }

    /* Header */
    .page-header {
      background: linear-gradient(135deg, #f5f3ff 0%, #ffffff 100%);
      padding: 3rem 0;
      border-bottom: 1px solid var(--border);
    }
    .eldoa-logo {
      font-size: 3rem;
      font-weight: 900;
      letter-spacing: 0.05em;
      margin-bottom: 0.5rem;
      text-align: center;
    }
    .eldoa-logo .eldoa {
      color: var(--fg);
    }
    .eldoa-logo .ai {
      background: linear-gradient(90deg, var(--brand), var(--brand-2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .eldoa-underline {
      width: 200px;
      height: 4px;
      background: linear-gradient(90deg, var(--brand), var(--brand-2));
      margin: 0 auto 2rem;
    }
    h1 {
      font-size: clamp(2rem, 5vw, 3.5rem);
      text-align: center;
      margin-bottom: 1rem;
    }
    .subtitle {
      text-align: center;
      color: var(--muted);
      font-size: 1.2rem;
      max-width: 60ch;
      margin: 0 auto 2rem;
    }

    /* Search */
    .search-box {
      max-width: 600px;
      margin: 0 auto 2rem;
      position: relative;
    }
    .search-box input {
      width: 100%;
      padding: 1rem 1.5rem;
      padding-right: 3rem;
      font-size: 1.1rem;
      border: 2px solid var(--border);
      border-radius: 12px;
      background: var(--bg);
      color: var(--fg);
      outline: none;
      transition: border-color 0.2s;
    }
    .search-box input:focus {
      border-color: var(--brand);
    }
    .search-icon {
      position: absolute;
      right: 1.5rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--muted);
      pointer-events: none;
    }

    /* Autocomplete Dropdown */
    .autocomplete-dropdown {
      position: absolute;
      top: calc(100% + 0.5rem);
      left: 0;
      right: 0;
      background: var(--bg);
      border: 2px solid var(--brand);
      border-radius: 12px;
      max-height: 400px;
      overflow-y: auto;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      display: none;
      z-index: 1000;
    }
    .autocomplete-dropdown.show {
      display: block;
    }
    .autocomplete-item {
      padding: 0.75rem 1.5rem;
      cursor: pointer;
      transition: background 0.15s;
      border-bottom: 1px solid var(--border);
    }
    .autocomplete-item:last-child {
      border-bottom: none;
    }
    .autocomplete-item:hover,
    .autocomplete-item.selected {
      background: var(--card);
    }
    .autocomplete-item strong {
      color: var(--brand);
      font-weight: 600;
    }
    .autocomplete-empty {
      padding: 1.5rem;
      text-align: center;
      color: var(--muted);
    }

    /* Top Searches */
    .top-searches {
      max-width: 600px;
      margin: 0 auto 1rem;
    }
    .top-searches h3 {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--muted);
      margin-bottom: 0.75rem;
      text-align: center;
    }
    .search-tags {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.5rem;
    }
    .search-tag {
      display: inline-block;
      padding: 0.5rem 1rem;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 20px;
      color: var(--fg);
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: 500;
      transition: all 0.2s;
      cursor: pointer;
    }
    .search-tag:hover {
      background: var(--brand);
      color: white;
      border-color: var(--brand);
      transform: translateY(-1px);
    }

    /* Alphabet Nav */
    .alphabet-nav {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
      padding: 1rem 0;
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    .alphabet-letters {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.5rem;
    }
    .alphabet-letters a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--card);
      color: var(--fg);
      text-decoration: none;
      font-weight: 700;
      transition: all 0.2s;
    }
    .alphabet-letters a:hover,
    .alphabet-letters a.active {
      background: var(--brand);
      color: white;
      border-color: var(--brand);
      transform: translateY(-2px);
    }

    /* Letter Sections */
    .letter-section {
      padding: 3rem 0;
      scroll-margin-top: 100px;
    }
    .letter-section h2 {
      font-size: 3rem;
      font-weight: 900;
      color: var(--brand);
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 4px solid var(--brand);
    }

    /* Entries Grid */
    .entries-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1rem;
    }
    .entry-card {
      display: block;
      padding: 1.25rem;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      text-decoration: none;
      transition: all 0.2s;
    }
    .entry-card:hover {
      border-color: var(--brand);
      box-shadow: 0 4px 20px rgba(124, 58, 237, 0.15);
      transform: translateY(-2px);
    }
    .entry-card h3 {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--fg);
      margin: 0;
    }

    /* Back Link */
    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 1rem 1.5rem;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      text-decoration: none;
      color: var(--brand);
      font-weight: 600;
      margin: 2rem 0;
      transition: all 0.2s;
    }
    .back-link:hover {
      background: var(--brand);
      color: white;
      border-color: var(--brand);
    }

    /* No Results */
    .no-results {
      text-align: center;
      padding: 4rem 0;
      color: var(--muted);
      display: none;
    }
    .no-results.show {
      display: block;
    }

    /* Dark theme adjustments */
    [data-theme="dark"] .page-header {
      background: linear-gradient(135deg, #1a1a2e 0%, #0b0d12 100%);
    }

    @media (max-width: 768px) {
      .pillar-logo { font-size: 2rem; }
      h1 { font-size: 2rem; }
      .subtitle { font-size: 1rem; }
      .letter-section h2 { font-size: 2rem; }
      .entries-grid { grid-template-columns: 1fr; }
      .alphabet-letters a { width: 36px; height: 36px; font-size: 0.9rem; }
      .search-tag { font-size: 0.85rem; padding: 0.4rem 0.8rem; }
      .search-box input { font-size: 1rem; padding: 0.875rem 1.25rem; }
      .autocomplete-item { padding: 0.625rem 1.25rem; font-size: 0.95rem; }
    }

    /* Footer */
    footer { padding:2rem 0 4rem; border-top:1px solid var(--border); color: var(--muted); margin-top: 2rem; }
    footer a { color: var(--brand); text-decoration: none; }
    footer a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <a href="/" class="back-link container" style="display:inline-flex; margin-top:1rem;">
    ← Back to Home
  </a>

  <header class="page-header">
    <div class="container">
      <div class="eldoa-logo">
        <span class="eldoa">ELDOA</span> <span class="ai">AI</span>
      </div>
      <div class="eldoa-underline"></div>
      <h1>ELDOA Encyclopedia</h1>
      <p class="subtitle">
        Comprehensive A-Z reference with <strong id="totalCount">1198</strong> entries covering ELDOA practice, theory, and terminology
      </p>

      <!-- Top Searches -->
      <div class="top-searches">
        <h3>Popular Topics</h3>
        <div class="search-tags">
          <span class="search-tag" data-search="fascia">Fascia</span>
          <span class="search-tag" data-search="lumbar">Lumbar Spine</span>
          <span class="search-tag" data-search="cervical">Cervical Spine</span>
          <span class="search-tag" data-search="pain">Pain Management</span>
          <span class="search-tag" data-search="decompression">Decompression</span>
          <span class="search-tag" data-search="posture">Posture</span>
          <span class="search-tag" data-search="scoliosis">Scoliosis</span>
          <span class="search-tag" data-search="breathing">Breathing</span>
        </div>
      </div>

      <!-- Search Box with Autocomplete -->
      <div class="search-box">
        <input type="search" id="searchInput" placeholder="Search encyclopedia entries..." autocomplete="off" />
        <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM19 19l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <div class="autocomplete-dropdown" id="autocompleteDropdown">
          <!-- Populated by JavaScript -->
        </div>
      </div>
    </div>
  </header>

  <nav class="alphabet-nav" aria-label="Alphabet navigation">
    <div class="container">
      <div class="alphabet-letters" id="alphabetNav">
        <!-- Generated by JavaScript -->
      </div>
    </div>
  </nav>

  <main class="container">
    <div id="entriesContainer">
      <!-- Generated by JavaScript -->
    </div>

    <div class="no-results" id="noResults">
      <h2>No entries found</h2>
      <p>Try a different search term</p>
    </div>
  </main>

  <footer role="contentinfo">
    <div class="container" style="display:grid; gap:1rem">
      <div><strong>ELDOA AI</strong> — Knowledge • Videos • Practitioners</div>
      <div style="display:flex; gap:.75rem; flex-wrap:wrap">
        <a href="/">Home</a>
        <a href="/about.html">About</a>
        <a href="/about.html#contact">Contact</a>
        <a href="/contribute">Contribute</a>
        <a href="/privacy">Privacy</a>
        <a href="/terms">Terms</a>
      </div>
      <small>Educational content only — not medical advice.</small>
    </div>
  </footer>

  <script>
    // Load encyclopedia data
    let encyclopediaData = null;

    fetch('/encyclopedia-data.json')
      .then(res => res.json())
      .then(data => {
        encyclopediaData = data;
        initializeEncyclopedia();
      })
      .catch(err => {
        console.error('Failed to load encyclopedia data:', err);
        document.getElementById('entriesContainer').innerHTML =
          '<p style="text-align:center;color:var(--muted);padding:3rem 0;">Failed to load encyclopedia data. Please refresh the page.</p>';
      });

    function initializeEncyclopedia() {
      const { by_letter, total_entries } = encyclopediaData;
      const letters = Object.keys(by_letter).sort();

      // Update total count
      document.getElementById('totalCount').textContent = total_entries;

      // Generate alphabet navigation
      const alphabetNav = document.getElementById('alphabetNav');
      letters.forEach(letter => {
        const link = document.createElement('a');
        link.href = `#letter-${letter}`;
        link.textContent = letter;
        link.className = 'alphabet-letter-link';
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const target = document.getElementById(`letter-${letter}`);
          if (target) {
            const offset = 100;
            const elementPosition = target.getBoundingClientRect().top;
            const offsetPosition = elementPosition + window.pageYOffset - offset;
            window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
          }
        });
        alphabetNav.appendChild(link);
      });

      // Generate letter sections
      const container = document.getElementById('entriesContainer');
      letters.forEach(letter => {
        const section = document.createElement('div');
        section.className = 'letter-section';
        section.id = `letter-${letter}`;

        const heading = document.createElement('h2');
        heading.textContent = letter;
        section.appendChild(heading);

        const grid = document.createElement('div');
        grid.className = 'entries-grid';

        by_letter[letter].forEach(entry => {
          const card = document.createElement('a');
          card.href = `/encyclopedia/${entry.slug}.html`;
          card.className = 'entry-card';
          card.dataset.title = entry.title.toLowerCase();
          card.dataset.slug = entry.slug;

          const title = document.createElement('h3');
          title.textContent = entry.title;
          card.appendChild(title);

          grid.appendChild(card);
        });

        section.appendChild(grid);
        container.appendChild(section);
      });

      // Initialize search
      initializeSearch();

      // Initialize top searches
      initializeTopSearches();

      // Initialize scroll spy for alphabet nav
      initializeScrollSpy();
    }

    function initializeSearch() {
      const searchInput = document.getElementById('searchInput');
      const autocompleteDropdown = document.getElementById('autocompleteDropdown');
      const entryCards = document.querySelectorAll('.entry-card');
      const letterSections = document.querySelectorAll('.letter-section');
      const noResults = document.getElementById('noResults');
      let selectedIndex = -1;
      let allEntries = [];

      // Build searchable entries list
      entryCards.forEach(card => {
        allEntries.push({
          title: card.querySelector('h3').textContent,
          slug: card.dataset.slug,
          href: card.href,
          element: card
        });
      });

      // Handle search input with autocomplete
      searchInput.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase().trim();
        selectedIndex = -1;

        if (searchTerm === '') {
          // Show all entries
          entryCards.forEach(card => card.style.display = 'block');
          letterSections.forEach(section => section.style.display = 'block');
          noResults.classList.remove('show');
          autocompleteDropdown.classList.remove('show');
          autocompleteDropdown.innerHTML = '';
          return;
        }

        // Find matching entries
        const matches = allEntries.filter(entry =>
          entry.title.toLowerCase().includes(searchTerm)
        ).slice(0, 10); // Limit to 10 results

        // Update autocomplete dropdown
        if (matches.length > 0) {
          autocompleteDropdown.innerHTML = matches.map((entry, index) => {
            const titleLower = entry.title.toLowerCase();
            const termIndex = titleLower.indexOf(searchTerm);
            let displayTitle = entry.title;

            // Highlight matching text
            if (termIndex !== -1) {
              const before = entry.title.substring(0, termIndex);
              const match = entry.title.substring(termIndex, termIndex + searchTerm.length);
              const after = entry.title.substring(termIndex + searchTerm.length);
              displayTitle = `${before}<strong>${match}</strong>${after}`;
            }

            return `<div class="autocomplete-item" data-index="${index}" data-href="${entry.href}">${displayTitle}</div>`;
          }).join('');
          autocompleteDropdown.classList.add('show');
        } else {
          autocompleteDropdown.innerHTML = '<div class="autocomplete-empty">No matches found</div>';
          autocompleteDropdown.classList.add('show');
        }

        // Filter visible entries on page
        filterEntries(searchTerm);
      });

      // Keyboard navigation
      searchInput.addEventListener('keydown', (e) => {
        const items = autocompleteDropdown.querySelectorAll('.autocomplete-item');

        if (e.key === 'ArrowDown') {
          e.preventDefault();
          selectedIndex = Math.min(selectedIndex + 1, items.length - 1);
          updateSelection(items);
        } else if (e.key === 'ArrowUp') {
          e.preventDefault();
          selectedIndex = Math.max(selectedIndex - 1, -1);
          updateSelection(items);
        } else if (e.key === 'Enter' && selectedIndex >= 0) {
          e.preventDefault();
          items[selectedIndex].click();
        } else if (e.key === 'Escape') {
          autocompleteDropdown.classList.remove('show');
          selectedIndex = -1;
        }
      });

      // Click on autocomplete item
      autocompleteDropdown.addEventListener('click', (e) => {
        const item = e.target.closest('.autocomplete-item');
        if (item && item.dataset.href) {
          window.location.href = item.dataset.href;
        }
      });

      // Close autocomplete when clicking outside
      document.addEventListener('click', (e) => {
        if (!searchInput.contains(e.target) && !autocompleteDropdown.contains(e.target)) {
          autocompleteDropdown.classList.remove('show');
        }
      });

      // Update selected item styling
      function updateSelection(items) {
        items.forEach((item, index) => {
          item.classList.toggle('selected', index === selectedIndex);
        });
        if (selectedIndex >= 0 && items[selectedIndex]) {
          items[selectedIndex].scrollIntoView({ block: 'nearest' });
        }
      }

      // Filter entries on page
      function filterEntries(searchTerm) {
        let visibleCount = 0;

        entryCards.forEach(card => {
          const title = card.dataset.title;
          if (title.includes(searchTerm)) {
            card.style.display = 'block';
            visibleCount++;
          } else {
            card.style.display = 'none';
          }
        });

        // Hide empty letter sections
        letterSections.forEach(section => {
          const hasVisibleCards = Array.from(section.querySelectorAll('.entry-card')).some(card =>
            card.style.display !== 'none'
          );

          if (hasVisibleCards) {
            section.style.display = 'block';
          } else {
            section.style.display = 'none';
          }
        });

        // Show/hide no results
        if (visibleCount === 0) {
          noResults.classList.add('show');
        } else {
          noResults.classList.remove('show');
        }
      }
    }

    // Initialize top searches (popular topics)
    function initializeTopSearches() {
      const searchTags = document.querySelectorAll('.search-tag');
      const searchInput = document.getElementById('searchInput');

      searchTags.forEach(tag => {
        tag.addEventListener('click', () => {
          const searchTerm = tag.dataset.search;
          searchInput.value = searchTerm;
          searchInput.dispatchEvent(new Event('input'));
          searchInput.focus();

          // Scroll to results
          setTimeout(() => {
            const firstVisibleSection = document.querySelector('.letter-section[style*="display: block"], .letter-section:not([style*="display: none"])');
            if (firstVisibleSection) {
              const offset = 100;
              const elementPosition = firstVisibleSection.getBoundingClientRect().top;
              const offsetPosition = elementPosition + window.pageYOffset - offset;
              window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
            }
          }, 100);
        });
      });
    }

    function initializeScrollSpy() {
      const letterSections = document.querySelectorAll('.letter-section');
      const alphabetLinks = document.querySelectorAll('.alphabet-letter-link');

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const letter = entry.target.id.replace('letter-', '');
            alphabetLinks.forEach(link => link.classList.remove('active'));
            const activeLink = document.querySelector(`a[href="#letter-${letter}"]`);
            if (activeLink) activeLink.classList.add('active');
          }
        });
      }, {
        rootMargin: '-100px 0px -80% 0px',
        threshold: 0
      });

      letterSections.forEach(section => observer.observe(section));
    }

    // Theme toggle (sync with main site)
    const themeToggle = document.getElementById('themeToggle');
    const html = document.documentElement;
    const stored = localStorage.getItem('theme');
    if (stored) html.dataset.theme = stored;
    else if (window.matchMedia('(prefers-color-scheme: dark)').matches) html.dataset.theme = 'dark';
  </script>
</body>
</html>
